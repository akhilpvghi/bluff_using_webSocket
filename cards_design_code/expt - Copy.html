
	 <style>
	 </style>

	 
	 <html>
		<meta>
<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
  <link rel="stylesheet" type="text/css" href="cards.css" media="screen" />
		</meta>
	 <body>

	 
	 </div>
	 <div class="playingCards fourColours rotateHand">
<ul class="table">
        <li>
            <div class="card rank-2 clubs"><span class="rank">2</span><span class="suit">&clubs;</span></div>
        </li>
		</ul>
		</div>

		<button id="btnIDfor_pass" onclick=plus()>Pass</button>
		<button id="btnIDfor_pass">Pick</button>
		<button id="btnIDfor_pass">Throw</button>

		
	 </body>

	 <script type="text/javascript">
	 let playerNumber=0;
let playerNum;
let count=0;



		 const socket = new WebSocket('ws://localhost:6789');

	socket.addEventListener('open', function (event) {
		console.log("client is listening ");
});
		 socket.addEventListener('message', function (event) {
    console.log('Message from server ', event.data);
	if(JSON.parse(event.data).type=="users")
	if(count==0)
		{playerNumber = JSON.parse(event.data).count
	console.log("client is listening playerNumber playerNumber",playerNumber);
     playerNum =  `player ${playerNumber}`;
	}},{once: true})

	socket.addEventListener('open', function (event) {
    //socket.send('Hello Server!');
    socket.send(`{"action": "plus","playerNumber":"player ${playerNumber}","userType":"user"}`);
});


	socket.addEventListener('message', function (event) {
		console.log("------------------->",event.data.split("Message from server")[0]);
		const all_cards = JSON.parse(event.data.split("Message from server")[0]);
		const my_cards = Object.entries(all_cards).filter(([key,val])=>key==playerNum)
		console.log("my cardssssssss======>",my_cards,playerNum);
		//document.write(JSON.stringify(my_cards));
	}
	)



const throw_cards=()=>{
	socket.addEventListener('open', function (event) {
    socket.send(`{"player ${playerNumber}":"[3S,4D]","action":"throw_cards"}`);
	});
}
		

//const callback=()=>{
//	count+=1;
//	console.log("see 1")
//}

//const showMycard=()=>{
//	callback()
	
//}

const plus=()=>{
	console.log("no use")
	//showMycard();
}
		// Listen for messages
		
		

	// Connection opened
	//console.log("akhil")
	
	 
	 </script>
	 </html>
